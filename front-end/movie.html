<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1><span id="movie_title"></span></h1>
    <a href="movies.html">영화 리스트 보러 가기</a><br />
    <ul>
      <li>ID : <span id="id"></span></li>
      <li>등록자 : <span id="name"></span></li>
      <li>작성일 : <span id="created_at"></span></li>
    </ul>
  </body>
</html>

<script>
  // 상세조회
  const urlSearch = new URLSearchParams(location.search);
  const id = urlSearch.get("id");

  fetch(`http://localhost:3000/movies/${id}`)
    .then((response) => response.json())
    .then((movie) => {
      console.log(movie);
      document.getElementById("movie_title").innerHTML = movie.movie_title;
      document.getElementById("id").innerHTML = movie.id;
      document.getElementById("name").innerHTML = movie.user_id;
      document.getElementById("created_at").innerHTML = movie.created_at;
      // console.log(Object.keys(movie));
      // console.log(Object.values(movie));
    });
</script>
